# 静态路由与默认路由配置

## 一、实验预习报告

### 1、实验相关知识简述

OSPF是一个内部网关协议，用于单一自治系统(AS)中决策路由，使用迪杰斯特拉提出的最短路径算法生成路由表。

OSPF是链路状态协议，使用最短路径算法，使用层次结构进行区域划分。

### 2、实验原理预习情况

学习OSPF的基本概念，学习OSPF的配置方法。

### 3、实验注意事项

注意Cisco用户模式、特权模式、全局配置模式分别对应的命令。

注意禁止IP地址解析特性，避免因为输入错误命令，浪费不必要的时间



## 二、实验报告

### 1、实验目的与要求

* 理解OSPF
* 掌握OSPF的配置方法
* 掌握查看OSPF的协议的相关信息



### 2、实验仪器或材料

- 一台装有Windows 10系统的PC机
- Packet Tracker软件



### 3、实验原理

OSPF区域是基于路由器接口划分的，而不是基于整台路由器，一台路由器可以属于单个区域，也可以属于多个区域。



### 4、实验过程及数据记录

#### （1）网络拓扑

![image-20201207193515199](assets/%E5%AE%9E%E9%AA%8C%E5%85%AB%EF%BC%9AOSPF%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE/image-20201207193515199.png)





**网络拓扑说明**

| 序号 | 设备    | 设备类型   | 规格型号 |
| ---- | ------- | ---------- | -------- |
| 1    | PC-0    | 用户主机   | PC       |
| 2    | SW0~SW2 | 两层交换机 | 2960     |
| 3    | R0~R2   | 路由器     | 2811     |



#### （2）网络规划



| 名称 | 接口  | IP地址       | 网关        |
| ---- | ----- | ------------ | ----------- |
| R0   | s1/0  | 10.0.1.1     |             |
|      | fa0/0 | 192.168.1.1  |             |
| R1   | s1/0  | 10.0.1.2     |             |
|      | s1/1  | 10.0.2.1     |             |
|      | fa0/0 | 192.168.2.1  |             |
| R2   | s1/1  | 10.0.2.2     |             |
|      | fa0/0 | 192.168.3.1  |             |
| PC0  |       | 192.168.1.11 | 192.168.1.1 |
| PC1  |       | 192.168.1.12 | 192.168.1.1 |
| PC2  |       | 192.168.2.11 | 198.168.2.1 |
| PC3  |       | 192.168.2.12 | 192.168.2.1 |
| PC4  |       | 192.168.3.11 | 192.168.3.1 |
| PC5  |       | 192.168.3.12 | 192.168.3.1 |







#### （3）实验步骤

1. 在Packet Tracer中搭建完整的网络拓扑
2. 配置各个主机的IP地址、默认网关和子网掩码

![image-20201207201123200](assets/%E5%AE%9E%E9%AA%8C%E5%85%AB%EF%BC%9AOSPF%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE/image-20201207201123200.png)



3. 开启路由器的各个接口，并配置IP地址

![image-20201207201741801](assets/%E5%AE%9E%E9%AA%8C%E5%85%AB%EF%BC%9AOSPF%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE/image-20201207201741801.png)



4. 在路由器上开启OSPF协议，并发布直连网段

![image-20201207203510169](assets/%E5%AE%9E%E9%AA%8C%E5%85%AB%EF%BC%9AOSPF%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE/image-20201207203510169.png)



5. 查看路由表

![image-20201207203542168](assets/%E5%AE%9E%E9%AA%8C%E5%85%AB%EF%BC%9AOSPF%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE/image-20201207203542168.png)



6. PC间互相通信

![image-20201207203647073](assets/%E5%AE%9E%E9%AA%8C%E5%85%AB%EF%BC%9AOSPF%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE/image-20201207203647073.png)



### 5、实验结果分析

没有配置OSPF协议之前，只有局域网内的主机可以互相通信。PC0可以和PC1通信，但是不能和PC2通信。为路由器配置了OSPF协议之后，所有主机都可以互相通信。

## 三、实验总结

通过本次实验，我理解了OSPF的含义，掌握了OSPF的配置方法，掌握了查看OSPF协议的相关信息。本次实验规模较小，几个简单命令就可以完成，为以后配置更大型的网络打下了基础。



