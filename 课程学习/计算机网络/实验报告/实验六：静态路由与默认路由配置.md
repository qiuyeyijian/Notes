# 静态路由与默认路由配置

## 一、实验预习报告

### 1、实验相关知识简述

静态路由是指由信息管理员手工配置，而不是路由器通过路由算法和其他路由器学习得到。所以，静态路由主要适合网络规模不大，拓扑结构相对固定的网络使用。当网络环境比较复杂时，由于其拓扑或链路状态相对容易变化，就需要管理员手动改变路由。

### 2、实验原理预习情况

学习静态路由的基本原理，了解配置静态路由的基本命令。

### 3、实验注意事项

注意Cisco用户模式、特权模式、全局配置模式分别对应的命令。

注意禁止IP地址解析特性，避免因为输入错误命令，浪费不必要的时间



## 二、实验报告

### 1、实验目的与要求

* 理解静态路由的含义
* 掌握路由器静态路由的配置方法
* 理解默认路由的含义
* 掌握默认路由的配置方法

### 2、实验仪器或材料

- 一台装有Windows 10系统的PC机
- Packet Tracker软件



### 3、实验原理

默认路由也是一种静态路由，它位于路由表的最后，当数据包与路由表中前面的表项都不匹配时，数据报将根据默认路由转发。这使得器在某些时候非常有效。



### 4、实验过程及数据记录

#### （1）网络拓扑

![image-20201207193515199](assets/%E5%AE%9E%E9%AA%8C%E5%85%AD/image-20201207193515199.png)



**网络拓扑说明**

| 序号 | 设备    | 设备类型   | 规格型号 |
| ---- | ------- | ---------- | -------- |
| 1    | PC-0    | 用户主机   | PC       |
| 2    | SW0~SW2 | 两层交换机 | 2960     |
| 3    | R0~R2   | 路由器     | 2811     |



#### （2）网络规划



| 名称 | 接口  | IP地址       | 网关        |
| ---- | ----- | ------------ | ----------- |
| R0   | s1/0  | 10.0.1.1     |             |
|      | fa0/0 | 192.168.1.1  |             |
| R1   | s1/0  | 10.0.1.2     |             |
|      | s1/1  | 10.0.2.1     |             |
|      | fa0/0 | 192.168.2.1  |             |
| R2   | s1/1  | 10.0.2.2     |             |
|      | fa0/0 | 192.168.3.1  |             |
| PC0  |       | 192.168.1.11 | 192.168.1.1 |
| PC1  |       | 192.168.1.12 | 192.168.1.1 |
| PC2  |       | 192.168.2.11 | 198.168.2.1 |
| PC3  |       | 192.168.2.12 | 192.168.2.1 |
| PC4  |       | 192.168.3.11 | 192.168.3.1 |
| PC5  |       | 192.168.3.12 | 192.168.3.1 |



#### （3）实验步骤

1. 在Packet Tracer中搭建完整的网络拓扑
2. 配置各个主机的IP地址、默认网关和子网掩码

![image-20201207201123200](assets/%E5%AE%9E%E9%AA%8C%E5%85%AD%EF%BC%9A%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E4%B8%8E%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE/image-20201207201123200.png)



3. 开启路由器的各个接口，并配置IP地址

![image-20201207201741801](assets/%E5%AE%9E%E9%AA%8C%E5%85%AD%EF%BC%9A%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E4%B8%8E%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE/image-20201207201741801.png)



4. 在各个路由器上添加静态路由配置，在R2上添加默认路由

![image-20201207202012008](assets/%E5%AE%9E%E9%AA%8C%E5%85%AD%EF%BC%9A%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E4%B8%8E%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE/image-20201207202012008.png)

![image-20201207202201707](assets/%E5%AE%9E%E9%AA%8C%E5%85%AD%EF%BC%9A%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E4%B8%8E%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE/image-20201207202201707.png)



5. 使用PC0去和PC5通信

![image-20201207202310069](assets/%E5%AE%9E%E9%AA%8C%E5%85%AD%EF%BC%9A%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E4%B8%8E%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE/image-20201207202310069.png)

6. 查看路由表

![image-20201207202348814](assets/%E5%AE%9E%E9%AA%8C%E5%85%AD%EF%BC%9A%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E4%B8%8E%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE/image-20201207202348814.png)

### 5、实验结果分析

没有添加静态路由之前，只有局域网内的主机可以互相通信。PC0可以和PC1通信，但是不能和PC2通信。添加静态路由后，所有主机都可以互相通信。



## 三、实验总结

通过本次实验，我理解了静态路由的含义，掌握了路由器静态路由的配置方法。理解了默认路由的含义，掌握了默认路由的含义。为今后学习更高阶的路由器配置方法打下了基础。



