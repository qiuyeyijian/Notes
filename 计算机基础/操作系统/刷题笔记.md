## 概念总结



### 处理机管理的主要功能

1、进程控制，进程同步，进程通信和调度，进程控制的主要任务是为作业创建进程，撤销已结束的进程，以及控制进程在运行过程中的状态转换。

2、进程同步的主要任务是对诸进程的运行进行调节，进程通信的任务是实现在相互合作进程之间的信息交换。

3、调度分为作业调度和进程调度.作业调度的基本任务是从后备队列中按照一定的算法，选择出若干个作业，为它们分配必要的资源。

4、进程调度的任务是从进程的就绪队列中，按照一定的算法选出一新进程，把处理机分配给它，并为它设置运行现场，是进程投入运行。



### 中断和异常的区别

中断是CPU所具备的功能 -- 硬件
异常是软件运行过程中的一种开发过程中没有考虑到的程序错误 -- 软件



#### 异常：

>  是指CPU内部出现的中断，即在CPU执行特定指令时出现的非法情况。同时异常也称为同步中断，因此只有在一条指令执行后才会发出中断，不可能在指令执行期间发生异常。

1. 产生的原因：
       程序的错误产生的，编程异常通常叫做软中断（eg:除数为0）
       内核必须处理的异常条件产生的(eg:缺页）

2. 产生的目的：
       Linux利用异常来达到两个截然不同的目的：
         ·给进程发送一个信号以通报一个反常情况
         ·管理硬件资源
      对于第一种情况，例如，如果进程执行了一个被0除的操作，CPU则会产生一个“除法错误”异常，并由相应的异常处理程序向当前进程发送一个SIGFPE信号。当前进程接收到这个信号后，
       就要采取若干必要的步骤，或者从错误中恢复，或者终止执行（如果这个信号没有相应的信号处理程序）。 
      对于第二种情况，内核使用两种异常来有效地管理硬件资源，相应的处理程序也就更复杂。在这种情况下，异常并不表示一种错误情况：
        ·用“设备不可用”异常来推迟装载浮点寄存器。
        ·用“缺页”异常推迟把新页框分配给进程。 



2.   异常又分为故障和陷阱。
     b.产生都不使用中断控制器，中断号由指令直接给出。不能被屏蔽。
     c.异常没有自己的进程上下文，会用到当前进程的进程上下文。
     d.在CPU执行一个异常处理程序时，就不再响应其他异常和中断请求服务.如果此时发生了一个异常，CPU不能去响应它，又不能把它的信息丢失该怎么办呢？
      这是就用到了堆栈，把所有的信息压入栈。等当前异常处理后，才从堆栈中取出信息再响应刚才的异常。
     e.X86处理处理器中大约有20种异常。Linux内核必须为每种异常提供一个专门的异常处理程序。

#### 中断:

>  也称为异步中断。因此它是由其他硬件设备依照CPU时钟信号随机产生，即意味着中断能在指令之间发生。

 a.中断主要是响应外部硬件设备的。
 b.产生通过中断控制器，中断号是由中断控制器提供的（NMI硬中断中断号系统指定为02H）。
 中断又分为外部可屏蔽中断(INTR)和外部非屏蔽中断（NMI）
    ·所用I0设备产生的中断请求均引起可屏蔽中断。
    ·硬件故障引起的故障则产生非屏蔽中断。
 c.中断使用自己的中断上下文，原来的进程上下文保持不变，而且可以返回中断之前所作的事件。
 d.在CPU执行一个异常处理程序时，就不再响应其他异常和中断请求服务.如果此时产生多个非屏蔽中断时，CPU的处理方法跟异常处理方法一样，使用堆栈。





### 进程的主要属性

进程是指一个程序在一个数据集上的一次执行，它有如下一些基本属性：

进程是动态的，它包含了数据和运行在数据集上的程序；
 多个进程可以含有相同的程序；
多个进程可以并发执行；
进程有3种基本状态：阻塞态、运行态和就绪态。



```
引起进程状态转换的具体原因如下：

运行态→等待态：等待使用资源；如等待外设传输；等待人工干预。

等待态→就绪态：资源得到满足；如外设传输结束；人工干预完成。

运行态→就绪态：运行时间片到；出现有更高优先权进程。

就绪态—→运行态：CPU 空闲时选择一个就绪进程。
```





**首次适应法：**从空闲  [分区表](http://baike.baidu.com/view/1412956.htm)  的第一个表目起查找该表，把最先能够满足要求的空闲区分配给作业，这种方法目的在于减少查找时间。为适应这种算法，空闲分区表（空闲区链）中的空闲分区要按地址由低到高进行排序。该算法优先使用低址部分空闲区，在低址空间造成许多小的空闲区，在高  [地址空间](http://baike.baidu.com/view/1507129.htm)  保留大的空闲区。

​      **最佳适应算法：**从全部空闲区中找出能满足作业要求的、且大小最小的空闲分区的一种计算方法，这种方法能使碎片尽量小。

​      **最坏适应分配算法：**要扫描整个空闲分区或链表，总是挑选一个最大的空闲分区分割给作业使用。该算法要求将所有的空闲分区按其容量从大到小的顺序形成一空闲分区链，查找时只要看第一个分区能否满足作业要求。

​      **循环首次适应算法：**    该算法是首次适应算法的变种。在分配内存空间时，不再每次从表头(链首)开始查找，而是从上次找到空闲区的下一个空闲开始查找，直到找到第一个能满足要求的的空闲区为止，并从中划出一块与请求大小相等的内存空间分配给作业。该算法能使内存中的空闲区分布得较均匀。



### 多道批处理系统有两个特点：

1. 多道：系统内可同时容纳多个作业。这些作业放在外存中，组成一个后备队列，系统按一定的调度原则每次从后备作业队列中选取一个或多个作业进入内存运行，运行作业结束、退出运行和后备作业进入运行均由系统自动实现，从而在系统中形成一个自动转接的、连续的作业流。

2. 成批：在系统运行过程中，不允许用户与其作业发生交互作用，即：作业一旦进入系统，用户就不能直接干预其作业的运行。



### 不同存储器的特点

**静态随机存取存储器**（Static Random-Access Memory，SRAM）是随机存取存储器的一种。是指这种存储器只要保持通电，里面储存的数据就可以恒常保持。

**动态随机存取存储器**(Dynamic Random Access Memory，DRAM)最为常见的系统内存。**DRAM的存储位元是基于电容器的电荷量存储，这个电荷量会随着时间和温度而减少，因此必须定期的刷新，以保持它们原来记忆的正确信息。对DRAM的所有存储单元恢复一次原状态的时间间隔，叫做刷新周期。**

**只读存储器**(Read-Only Memory，ROM)所存数据稳定 ，断电后所存数据也不会改变；其结构较简单，读出较方便，因而常用于存储各种固定程序和数据。

**静态存储器的原理**，即靠双稳态触发器的两个稳定状态保存信息。



### 磁盘的特点

> 磁盘允许一段时间内，多个进程交叉访问，对于每一时刻而言，只允许一个进程访问。



### 进程创建

引起创建进程的事件：

1、用户登录

2、作业调度

3、提供服务（用户程序提出请求）

4、应用请求（基于应用进程的需求）



设备分配只需要分配相应的端口，有事件发生时进行中断即可，不需要额外的进程管理。



### 中断的优点

中断的优点： 1.提高CPU的效率; 2.实时处理; 3.故障处理; 4.实现时分操作。



### 文件系统管理

**微软操作系统（DOS、WINDOWS等）中磁盘文件存储管理的最小单位叫做“簇”**

扇区是**磁盘最小的物理存储单元**，一般而言是每个扇区512B大小，但是**操作通常不直接管理每一个扇区**，而是通过将若干个扇区组成的一个更大的集合来去进行操作管理。

  这个比扇区更大的集合，在Windows下叫做**簇**；在Linux下叫做**块（block）**。

**扇区：**硬盘不是一次读写一个字节而是一次读写一个扇区（512个字节）

**簇**：系统读读写文件的基本单位，一般为2的n次方个扇区(由文件系统决定)

> 块可以包含若干页，页可以包含若干簇，簇可以包含若干扇区



### 分时系统响应

分时系统的响应的影响因素：终端数目多少、时间片的大小、信息交换量、信息交换速度。



### 虚拟存储器

虚拟存储器：进程中的目标代码、数据等的虚拟地址组成的虚拟空间。虚拟存储器不考虑物理存储器的大小和信息存放的实际位置，只规定每个进程中相关联的信息的相对位置。与实际物理存储器数量有限，且被所有进程共享不一样，每个进程都拥有自己的虚拟存储器，且虚拟存储器的容量是由计算机的地址结构和寻址方式确定的。

 虚拟存储器的特点：自动覆盖，内存外存统一管理，进程大小不受内存容量限制。

| 技术           | 是否可以实现虚拟存储器 |
| -------------- | ---------------------- |
| 覆盖技术       | ×                      |
| 交互技术       | ×                      |
| 请求调入技术   | √                      |
| 预调入技术     | √                      |
| 静态地址重定位 | ×                      |
| 动态地址重定位 | √                      |

**对换技术也称交换技术，是为了提高系统的性能和多道度而采取的进程在内存和外存之间的换入和换出。**



### 进程

进程和进程之前只能并发，不能并行



### 分布式操作系统

分布式系统是指把多个处理机通过线路互联而构成的系统，此系统的处理和控制分布在各个处理机上。

主要特点：分布性，自治性，模块性，并行性。



### SPOOLing 技术

SPOOLing （即  [外部设备](http://baike.baidu.com/view/206732.htm)  联机并行操作），即Simultaneous Peripheral    Operation On-Line的缩写，它是关于慢速  [字符设备](http://baike.baidu.com/view/1913432.htm)  如何与计算机主机交换信息的一种技术，通常称为“  [假脱机](http://baike.baidu.com/view/3098049.htm)  技术”。

  SPOOLing 技术特点：

​      (1)提高了I/O速度.从对低速[I/O设备](http://baike.baidu.com/view/1293973.htm)进行的[I/O操作](http://baike.baidu.com/view/24719.htm)变为对输入井或输出井的操作,如同脱机操作一样,提高了I/O速度,缓和了CPU与低速I/O设备速度不匹配的矛盾.  

​    (2)设备并没有分配给任何进程.在输入井或输出井中,分配给进程的是一存储区和建立一张I/O请求表.  

   (3)实现了[虚拟设备](http://baike.baidu.com/view/396315.htm)功能.多个进程同时使用一独享设备,而对每一进程而言,都认为自己独占这一设备,不过,该设备是逻辑上的设备.