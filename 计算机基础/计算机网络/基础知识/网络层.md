

# 网络层

## IP多播

IANA拥有以太网地址块的高24位为`00-00-5E`，因此TCP/IP协议使用的以太网多播地址块范围为00-00-5E-00-00-00到00-00-5E-FF-FF-FF。

以太网硬件地址字段中的第一个字节的最低位为1即为多播地址，且这种多播地址占IANA（互联网号码指派管理局）**分配到的地址数的一半**（第24位为0的地址均分配给多播）。则以太网硬件多播地址范围为01-00-5E-00-00-00到01-00-5E-7F-FF-FF。

**由IP地址映射到硬件地址时，前0-23位为`01-00-5E`，第24位为`0`，剩下23位来自IP地址的低23位**

由于**IP多播地址与以太网硬件地址的映射关系不是唯一的**，因此收到多播数据报的主机还要在IP层利用软件过滤。

![image-20210919183810978](assets/%E7%BD%91%E7%BB%9C%E5%B1%82/image-20210919183810978.png)





## 变长子网与定长子网划分







## IPv6

IPv6使用**冒号十六进制记法**（colon hexadecimal notation，简写为colon hex），它把每个16位的值用十六进制表示，各值之间用冒号分隔。下面是它两个比较重要的特性：

> 冒号十六进制允许零压缩，即一连串连续的零可以使用双冒号取代。但是为了不引起歧义，**一个地址只允许使用一次零压缩**。如：`FF05::B3`
>
> **冒号十六进制可以结合点分十进制。**如：`::128.10.2.1`

| 地址类别     | 二进制前缀                             |
| ------------ | -------------------------------------- |
| 未指明地址   | `::/128`                               |
| 环回地址     | `::1/128`                              |
| 多播地址     | `FF00::/8`                             |
| 本地链路地址 | `FE80::/10`                            |
| 全球单播地址 | （除了上述四种外，所有其他二进制前缀） |



从IPv4向IPv6过渡过程中主要使用了**双协议栈和隧道技术**





## SDN

SDN（Software Defined Network）即软件定义网络，是一种网络设计理念，或者一种推倒重来的设计思想。只要网络硬件可以集中式软件管理，可编程化，控制转发层面分开，则可以认为这个网络是一个SDN网络。所以说，SDN并不是一个具体的技术，不是一个具体的协议，而是一个思想、一个框架。狭义的SDN是指的“软件定义网络”，广义的SDN的概念还延伸出了：软件定义安全、软件定义存储等等。

**SDN是一种新型网络体系结构**，是一种设计、构建和管理网络的新方法和新概念，但不是一种新型物理网络。SDN的核心思想就是**把网络的控制层面和数据层面分离**，而让控制层面利用软件来控制数据层面中的许多设备。

**OpenFlow协议可被看成是在SDN体系结构中控制层面与数据层面之间的通信接口。**

在SDN的**广义转发**中，**完成“匹配+动作”的设备不局限于网络层工作**，因此不再称为路由器，而称为**“OpenFlow交换机”**或“分组交换机”，或更简单地称为“交换机”。相应地，在SDN中取代传统路由器中转发表的是**“流表（Flow Table）”**。

SDN特点：控制转发分离、集中式控制、可编程、开放接口、虚拟化。



















