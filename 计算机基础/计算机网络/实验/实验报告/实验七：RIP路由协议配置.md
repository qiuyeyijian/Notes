# 静态路由与默认路由配置

## 一、实验预习报告

### 1、实验相关知识简述

RIP属于内部网关协议（IGP），用于一个自治系统内部，是一种基于距离向量的分布式路由选择协议，实现简单，应用广泛。在RIP协议中，距离最短的路由就是最好的路由。RIP路由的更新是通过定时广播实现的，接收的对象为邻居。



### 2、实验原理预习情况

学习RIP路由协议的基本概念。了解路由环路解决的基本方法。掌握RIPV1和RIPV2的主要的区别。



### 3、实验注意事项

注意Cisco用户模式、特权模式、全局配置模式分别对应的命令。

注意禁止IP地址解析特性，避免因为输入错误命令，浪费不必要的时间



## 二、实验报告

### 1、实验目的与要求

* 理解RIP路由的原理
* 掌握RIP路由的配置方法



### 2、实验仪器或材料

- 一台装有Windows 10系统的PC机
- Packet Tracker软件



### 3、实验原理

RIPv1和RIPv2的主要区别如下：

| RIPV1          | RIPV2                       |
| -------------- | --------------------------- |
| 有类路由协议   | 无类路由协议                |
| 不支持VLSM     | 支持VLSM                    |
| 没有认证的功能 | 可以支持认证，并且又明文MD5 |



### 4、实验过程及数据记录

#### （1）网络拓扑

![image-20201207193515199](assets/RIP%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE/image-20201207193515199.png)





**网络拓扑说明**

| 序号 | 设备    | 设备类型   | 规格型号 |
| ---- | ------- | ---------- | -------- |
| 1    | PC-0    | 用户主机   | PC       |
| 2    | SW0~SW2 | 两层交换机 | 2960     |
| 3    | R0~R2   | 路由器     | 2811     |



#### （2）网络规划



| 名称 | 接口  | IP地址       | 网关        |
| ---- | ----- | ------------ | ----------- |
| R0   | s1/0  | 10.0.1.1     |             |
|      | fa0/0 | 192.168.1.1  |             |
| R1   | s1/0  | 10.0.1.2     |             |
|      | s1/1  | 10.0.2.1     |             |
|      | fa0/0 | 192.168.2.1  |             |
| R2   | s1/1  | 10.0.2.2     |             |
|      | fa0/0 | 192.168.3.1  |             |
| PC0  |       | 192.168.1.11 | 192.168.1.1 |
| PC1  |       | 192.168.1.12 | 192.168.1.1 |
| PC2  |       | 192.168.2.11 | 198.168.2.1 |
| PC3  |       | 192.168.2.12 | 192.168.2.1 |
| PC4  |       | 192.168.3.11 | 192.168.3.1 |
| PC5  |       | 192.168.3.12 | 192.168.3.1 |



#### （3）实验步骤

1. 在Packet Tracer中搭建完整的网络拓扑
2. 配置各个主机的IP地址、默认网关和子网掩码

![image-20201207201123200](assets/%E5%AE%9E%E9%AA%8C%E4%B8%83%EF%BC%9ARIP%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE/image-20201207201123200.png)



3. 开启路由器的各个接口，并配置IP地址

![image-20201207201741801](assets/%E5%AE%9E%E9%AA%8C%E4%B8%83%EF%BC%9ARIP%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE/image-20201207201741801.png)



4. 在路由器上启用RIP V2协议，并发布直连网段

![image-20201207203003203](assets/%E5%AE%9E%E9%AA%8C%E4%B8%83%EF%BC%9ARIP%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE/image-20201207203003203.png)



5. 查看路由表

![image-20201207203046068](assets/%E5%AE%9E%E9%AA%8C%E4%B8%83%EF%BC%9ARIP%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE/image-20201207203046068.png)



6. PC间相互通信

![image-20201207203214513](assets/%E5%AE%9E%E9%AA%8C%E4%B8%83%EF%BC%9ARIP%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E9%85%8D%E7%BD%AE/image-20201207203214513.png)





### 5、实验结果分析

没有配置RIP协议之前，只有局域网内的主机可以互相通信。PC0可以和PC1通信，但是不能和PC2通信。为路由器配置了RIP协议之后，所有主机都可以互相通信。



## 三、实验总结

通过本次实验，我理解了RIP路由的原理，掌握了RIP路由的配置方法。学习了RIP中路由环路的解决方法，可以采用水平分割和路由毒化法。理解了RIPV1和RIPV2的主要区别。



